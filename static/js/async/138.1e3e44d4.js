"use strict";(self.webpackChunk_hikestack_official=self.webpackChunk_hikestack_official||[]).push([["138"],{7273:function(e,r,n){let t,s;n.r(r),n.d(r,{default:()=>f});var i=n("1549"),o=n("6603"),a=n("362");n("4194");var c=n("3861");let l=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,d=c.W;var g=n("6345");let u=(t="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",s={variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}},e=>{var r;if((null==s?void 0:s.variants)==null)return d(t,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:n,defaultVariants:i}=s,o=Object.keys(n).map(r=>{let t=null==e?void 0:e[r],s=null==i?void 0:i[r];if(null===t)return null;let o=l(t)||l(s);return n[r][o]}),a=e&&Object.entries(e).reduce((e,r)=>{let[n,t]=r;return void 0===t||(e[n]=t),e},{});return d(t,o,null==s?void 0:null===(r=s.compoundVariants)||void 0===r?void 0:r.reduce((e,r)=>{let{class:n,className:t,...s}=r;return Object.entries(s).every(e=>{let[r,n]=e;return Array.isArray(n)?n.includes({...i,...a}[r]):({...i,...a})[r]===n})?[...e,n,t]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)});function h(e){let{className:r,variant:n,...t}=e;return(0,i.jsx)("div",{className:function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,g.m6)(function(){for(var e,r,n=0,t="",s=arguments.length;n<s;n++)(e=arguments[n])&&(r=function e(r){var n,t,s="";if("string"==typeof r||"number"==typeof r)s+=r;else if("object"==typeof r){if(Array.isArray(r)){var i=r.length;for(n=0;n<i;n++)r[n]&&(t=e(r[n]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t)}return s}(e))&&(t&&(t+=" "),t+=r);return t}(r))}(u({variant:n}),r),...t})}function p(e){let r=Object.assign({h1:"h1",a:"a",div:"div",p:"p",h2:"h2",code:"code",pre:"pre"},(0,o.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.h1,{id:"日志模块",children:["日志模块",(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#日志模块",children:"#"})]}),"\n","\n",(0,i.jsxs)("div",{children:[(0,i.jsx)(a.SourceCode,{href:"https://github.com/hikestack/hike/tree/main/packages/logger"}),(0,i.jsx)("a",{href:"/official/reference/logger",children:(0,i.jsx)(h,{variant:"secondary",children:"API 参考"})})]}),"\n",(0,i.jsx)(r.p,{children:"LoggerModule 是一个为 NestJS 应用提供灵活日志记录功能的模块。它封装了常用的日志记录库（如 winston），并提供了易于使用的接口，使开发者能够在整个 NestJS 应用中统一和高效地记录日志。"}),"\n",(0,i.jsxs)(r.h2,{id:"安装",children:["安装",(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#安装",children:"#"})]}),"\n",(0,i.jsxs)(r.p,{children:["安装 ",(0,i.jsx)(r.code,{children:"LoggerModule"})]}),"\n",(0,i.jsx)(a.PackageManagerTabs,{command:"add @hikestack/logger"}),"\n",(0,i.jsxs)(r.div,{className:"rspress-directive tip",children:[(0,i.jsx)(r.div,{className:"rspress-directive-title",children:"提示"}),(0,i.jsx)(r.div,{className:"rspress-directive-content",children:(0,i.jsx)(r.p,{children:"安装对应适配器的依赖"})})]}),"\n",(0,i.jsx)(a.PackageManagerTabs,{command:"add winston"}),"\n",(0,i.jsxs)(r.h2,{id:"使用",children:["使用",(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#使用",children:"#"})]}),"\n",(0,i.jsxs)(r.p,{children:["导入并注册 ",(0,i.jsx)(r.code,{children:"LoggerModule"})]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-ts",meta:'title="app.module.ts" {15-20}',children:'@Module({\n	imports: [\n		ConfigModule.forRoot({\n			isGlobal: true,\n			cache: true,\n			envFilePath: [\n				path.resolve(\n					__dirname,\n					"..",\n					`env/${process.env.NODE_ENV || "development"}.env`,\n				),\n			],\n			load: configs,\n		}),\n		LoggerModule.registerAsync({\n			inject: [ConfigService],\n			useFactory: (configService: ConfigService) => ({\n				logger: new WinstonAdapter(configService.get("logger")),\n			}),\n		})\n	]\n})\nexport class AppModule {}\n'})}),"\n",(0,i.jsx)(r.p,{children:"使用构造函数注入"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-ts",meta:'title="app.service.ts" {7,9}',children:'import { Injectable } from "@nestjs/common";\nimport { LoggerService } from "@/logger";\n\n@Injectable()\nexport class AppService {\n	constructor(\n		private readonly loggerService: LoggerService,\n	) {\n		loggerService.log("Hello!");\n	}\n}\n'})}),"\n",(0,i.jsx)(r.p,{children:"使用属性注入"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-ts",meta:'title="app.service.ts" {6,7}',children:'import { Injectable, Inject } from "@nestjs/common";\nimport { LoggerService } from "@/logger";\n\n@Injectable()\nexport class AppService {\n    @Inject(LoggerService)\n	private readonly loggerService: LoggerService,\n}\n'})})]})}function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,o.ah)(),e.components);return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}let f=v;v.__RSPRESS_PAGE_META={},v.__RSPRESS_PAGE_META["guide%2Fbackend%2Fcomponents%2Flogger.mdx"]={toc:[{text:"安装",id:"安装",depth:2},{text:"使用",id:"使用",depth:2}],title:"日志模块",frontmatter:{}}}}]);