"use strict";(self.webpackChunk_hikestack_official=self.webpackChunk_hikestack_official||[]).push([["1390"],{5089:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(t,n)&&r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(3604),t)},8130:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;for(let n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0}},3206:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useCreation=function(e,t){let{current:n}=(0,r.useRef)({deps:t,obj:void 0,initialized:!1});return(!1===n.initialized||!(0,a.default)(n.deps,t))&&(n.deps=t,n.obj=e(),n.initialized=!0),n.obj};let r=n(4194),a=n(8130)},3604:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useHike=function(e){let t=(0,i.useUpdate)(),n=(0,a.useRef)(e);return(0,s.useCreation)(()=>(function e(t,n){let a=o.get(t);if(a)return a;if(c.has(t))return t;let s=new Proxy(t,{get(t,a,s){let i=Reflect.get(t,a,s),o=Reflect.getOwnPropertyDescriptor(t,a);return o?.configurable||o?.writable?r(i)||Array.isArray(i)?e(i,n):i:i},set(e,t,r){let a=Reflect.set(e,t,r);return n(),a},deleteProperty(e,t){let r=Reflect.deleteProperty(e,t);return n(),r}});return o.set(t,s),c.set(s,t),s})(n.current,()=>{t()}),[])};let r=n(4256),a=n(4194),s=n(3206),i=n(9307),o=new WeakMap,c=new WeakMap},9307:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useUpdate=void 0;let r=n(4194);t.useUpdate=()=>{let[,e]=(0,r.useState)({});return(0,r.useCallback)(()=>e({}),[])}},5220:function(e,t,n){n.r(t),n.d(t,{default:()=>j});var r=n("1549"),a=n("6603"),s=n("4194"),i=n("5372"),o=n("4005"),c=n("164"),d=n("7271");let l=s.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...a})});l.displayName="Card",s.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",n),...a})}).displayName="CardHeader",s.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",n),...a})}).displayName="CardTitle",s.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",n),...a})}).displayName="CardDescription";let u=s.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,d.cn)("p-6 pt-0",n),...a})});u.displayName="CardContent",s.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,d.cn)("flex items-center p-6 pt-0",n),...a})}).displayName="CardFooter";function f(e){let{code:t,language:n,className:a="",direction:d,editorPosition:f,renderChildren:h,...p}=e,m=function(e){let{page:t}=(0,o.Vi)(),{frontmatter:n={}}=t,{playgroundDirection:r}=n;if(e.direction)return e.direction;if(r)return r;return"horizontal"}(e),[g,x]=(0,s.useState)(t),b=(0,s.useCallback)(e=>{x(e||"")},[]),j="horizontal"===m&&"left"===f,v=["rspress-playground",`rspress-playground-${m}`,`rspress-playground-reverse-${j?"y":"n"}`,a].join(" ");return(0,r.jsx)(l,{children:(0,r.jsxs)(u,{className:`${v} !mt-0 !mb-0 p-0`,...p,children:[(0,r.jsx)(c.RC,{language:n,code:g,getImport:i.Z}),(0,r.jsx)(c.ML,{value:g,onChange:b,language:"tsx"===n||"ts"===n?"typescript":"javascript"}),null==h?void 0:h(e,g,m)]})})}var h=n("362"),p=n("4263"),m=n("218"),g=n("3357");function x(e){let t=Object.assign({h1:"h1",a:"a",p:"p",code:"code",h2:"h2",pre:"pre"},(0,a.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.h1,{id:"usehike",children:[(0,r.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#usehike",children:"#"}),"useHike"]}),"\n","\n",(0,r.jsxs)("div",{className:"flex space-x-2 items-center",children:[(0,r.jsx)("a",{className:"flex space-x-1 items-center",href:"https://github.com/hikestack/hike/tree/main/packages/hooks",target:"_blank",children:(0,r.jsxs)(p.z,{variant:"secondary",size:"sm",children:[(0,r.jsx)("span",{children:"源码"}),(0,r.jsx)(m.Z,{className:"w-4 h-4 ml-1"})]})}),(0,r.jsx)("a",{className:"flex space-x-1 items-center",href:"/official/reference/hooks/globals",children:(0,r.jsxs)(p.z,{variant:"secondary",size:"sm",children:[(0,r.jsx)("span",{children:"API 参考"}),(0,r.jsx)(g.Z,{className:"w-4 h-4 ml-1"})]})})]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"useHike"}),"useHike 是一个自定义的 React Hook，它利用 JavaScript 的 Proxy 对象和 WeakMap 来创建一个可观察的状态对象。当这个状态对象的任何属性（包括嵌套属性）发生变化时，useHike 会自动触发一个回调函数。"]}),"\n",(0,r.jsxs)(t.h2,{id:"安装",children:[(0,r.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#安装",children:"#"}),"安装"]}),"\n",(0,r.jsx)(h.PackageManagerTabs,{command:"install @hikestack/hooks"}),"\n",(0,r.jsxs)(t.h2,{id:"使用",children:[(0,r.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#使用",children:"#"}),"使用"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",meta:"pure",children:"import React from 'react';  \nimport { useHike } from '@hikestack/hooks';  \n  \nfunction MyComponent() {  \n  const state = useHike({  \n    user: {  \n      name: 'John Doe',  \n      age: 30,  \n    },  \n    preferences: {  \n      theme: 'dark',  \n    },  \n  });\n  \n  const handleChange = () => {  \n    // 更新嵌套状态  \n    state.user.name = 'Jane Doe';  \n    // 这将触发状态更新回调，导致组件重新渲染  \n  };  \n  \n  return (  \n    <div>  \n      <p>User Name: {state.user.name}</p>  \n      <p>User Age: {state.user.age}</p>  \n      <p>Theme: {state.preferences.theme}</p>  \n      <button onClick={handleChange}>Change Name</button>  \n    </div>  \n  );  \n}\n"})}),"\n",(0,r.jsxs)(t.h2,{id:"尝试一下",children:[(0,r.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#尝试一下",children:"#"}),"尝试一下"]}),"\n",(0,r.jsx)(f,{code:'import React from "react";\nimport { useHike } from "@hikestack/hooks";\n\nexport default function App() {\n	const state = useHike({\n		count: 0,\n	});\n	return (\n		<div>\n			<button onClick={() => state.count++}>点击增加计数: {state.count}</button>\n		</div>\n	);\n}\n',language:"tsx",direction:"",editorPosition:"left"})]})}function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,a.ah)(),e.components);return t?(0,r.jsx)(t,Object.assign({},e,{children:(0,r.jsx)(x,e)})):x(e)}let j=b;b.__RSPRESS_PAGE_META={},b.__RSPRESS_PAGE_META["guide%2Ffrontend%2Fhooks%2Fuse-hike.mdx"]={toc:[{id:"安装",text:"安装",depth:2},{id:"使用",text:"使用",depth:2},{id:"尝试一下",text:"尝试一下",depth:2}],title:"useHike",frontmatter:{}}},4263:function(e,t,n){n.d(t,{z:function(){return d}});var r=n(1549),a=n(4194),s=n(4323),i=n(9986),o=n(7271);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:n,variant:a,size:i,asChild:d=!1,...l}=e,u=d?s.g7:"button";return(0,r.jsx)(u,{className:(0,o.cn)(c({variant:a,size:i,className:n})),ref:t,...l})});d.displayName="Button"},7271:function(e,t,n){n.d(t,{cn:function(){return s}});var r=n(976),a=n(6345);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,r.W)(t))}}}]);