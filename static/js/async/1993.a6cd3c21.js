"use strict";(self.webpackChunk_hikestack_official=self.webpackChunk_hikestack_official||[]).push([["1993"],{1199:function(e,n,t){t.r(n),t.d(n,{default:()=>f});var s=t("2322"),r=t("2840"),a=t("5947"),i=t("7377"),o=t("1052"),c=t("4263"),u=t("6467"),d=t("9425");function h(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",h2:"h2",pre:"pre"},(0,r.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"usehike",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#usehike",children:"#"}),"useHike"]}),"\n","\n",(0,s.jsxs)("div",{className:"flex space-x-2 items-center",children:[(0,s.jsx)("a",{className:"flex space-x-1 items-center",href:"https://github.com/hikestack/hike/tree/main/packages/hooks/src/use-hike.ts",target:"_blank",children:(0,s.jsxs)(c.z,{variant:"secondary",size:"sm",children:[(0,s.jsx)("span",{children:"源码"}),(0,s.jsx)(u.Z,{className:"w-4 h-4 ml-1"})]})}),(0,s.jsx)("a",{className:"flex space-x-1 items-center",href:"/official/reference/hooks/functions/useHike.html",children:(0,s.jsxs)(c.z,{variant:"secondary",size:"sm",children:[(0,s.jsx)("span",{children:"API 参考"}),(0,s.jsx)(d.Z,{className:"w-4 h-4 ml-1"})]})})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"useHike"}),"是一个自定义的 React Hook，它利用 JavaScript 的 Proxy 对象和 WeakMap 来创建一个可观察的状态对象。当这个状态对象的任何属性（包括嵌套属性）发生变化时，useHike 会自动触发一个回调函数。"]}),"\n",(0,s.jsxs)(n.h2,{id:"安装",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#安装",children:"#"}),"安装"]}),"\n",(0,s.jsx)(o.PackageManagerTabs,{command:"install @hikestack/hooks"}),"\n",(0,s.jsxs)(n.h2,{id:"使用",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用",children:"#"}),"使用"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",meta:"pure",children:'import React from "react";\nimport { useHike } from "@hikestack/hooks";\n\nfunction App() {\n	const state = useHike({\n		count: 0,\n		user: {\n			name: "John Doe",\n			age: 30,\n		},\n	});\n\n	const handleChange = () => {\n		// 更新嵌套状态\n		state.user.name = "Roy Lin";\n		// 这将触发状态更新回调，导致组件重新渲染\n	};\n\n	return (\n		<div>\n			<p>User Name: {state.user.name}</p>\n			<p>User Age: {state.user.age}</p>\n			<button onClick={handleChange}>修改名称为: Roy Lin</button>\n			<br />\n			<button onClick={() => state.count++}>点击增加计数: {state.count}</button>\n		</div>\n	);\n}\n\nexport default App;\n'})}),"\n",(0,s.jsxs)(i.Z,{isMobile:"false",demoId:"_guide_hooks_use_hike_1",children:[(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'import React from "react";\nimport { useHike } from "@hikestack/hooks";\n\nfunction App() {\n	const state = useHike({\n		count: 0,\n		user: {\n			name: "John Doe",\n			age: 30,\n		},\n	});\n\n	const handleChange = () => {\n		// 更新嵌套状态\n		state.user.name = "Roy Lin";\n		// 这将触发状态更新回调，导致组件重新渲染\n	};\n\n	return (\n		<div>\n			<p>User Name: {state.user.name}</p>\n			<p>User Age: {state.user.age}</p>\n			<button onClick={handleChange}>修改名称为: Roy Lin</button>\n			<br />\n			<button onClick={() => state.count++}>点击增加计数: {state.count}</button>\n		</div>\n	);\n}\n\nexport default App;\n'})})}),(0,s.jsx)(a.default,{})]})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(h,e)})):h(e)}let f=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["guide%2Fhooks%2Fuse-hike.mdx"]={toc:[{id:"安装",text:"安装",depth:2},{id:"使用",text:"使用",depth:2}],title:"useHike",frontmatter:{}}},5947:function(e,n,t){t.r(n),t.d(n,{default:function(){return a}});var s=t(2322);t(2784);var r=t(9402);let a=function(){let e=(0,r.A$)({count:0,user:{name:"John Doe",age:30}});return(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{children:["User Name: ",e.user.name]}),(0,s.jsxs)("p",{children:["User Age: ",e.user.age]}),(0,s.jsx)("button",{onClick:()=>{e.user.name="Roy Lin"},children:"修改名称为: Roy Lin"}),(0,s.jsx)("br",{}),(0,s.jsxs)("button",{onClick:()=>e.count++,children:["点击增加计数: ",e.count]})]})}},4263:function(e,n,t){t.d(n,{z:function(){return u}});var s=t(2322),r=t(2784),a=t(3883),i=t(6209),o=t(7271);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=r.forwardRef((e,n)=>{let{className:t,variant:r,size:i,asChild:u=!1,...d}=e,h=u?a.g7:"button";return(0,s.jsx)(h,{className:(0,o.cn)(c({variant:r,size:i,className:t})),ref:n,...d})});u.displayName="Button"},7271:function(e,n,t){t.d(n,{cn:function(){return a}});var s=t(7239),r=t(8497);function a(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,r.m6)((0,s.W)(n))}}}]);