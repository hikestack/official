/*! For license information please see 7910.0df04ef0.js.LICENSE.txt */
"use strict";(self.webpackChunk_hikestack_official=self.webpackChunk_hikestack_official||[]).push([["7910"],{6759:function(e,r,n){n.d(r,{Z:()=>o});var t=n("4194");let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(...e)=>e.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:o,iconNode:c,...d},u)=>(0,t.createElement)("svg",{ref:u,...a,width:r,height:r,stroke:e,strokeWidth:s?24*Number(n)/Number(r):n,className:i("lucide",l),...d},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(o)?o:[o]])),o=(e,r)=>{let n=(0,t.forwardRef)(({className:n,...a},o)=>(0,t.createElement)(l,{ref:o,iconNode:r,className:i(`lucide-${s(e)}`,n),...a}));return n.displayName=`${e}`,n}},218:function(e,r,n){n.d(r,{Z:function(){return t}});let t=(0,n(6759).Z)("FileCode2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]])},3357:function(e,r,n){n.d(r,{Z:function(){return t}});let t=(0,n(6759).Z)("SquareArrowOutUpRight",[["path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6",key:"y09zxi"}],["path",{d:"m21 3-9 9",key:"mpx6sq"}],["path",{d:"M15 3h6v6",key:"1q9fwt"}]])},7842:function(e,r,n){n.r(r),n.d(r,{default:function(){return u}});var t=n(1549),s=n(6603),i=n(9597),a=n(3460),l=n(218),o=n(3357);function c(e){let r=Object.assign({h1:"h1",a:"a",p:"p",code:"code",h2:"h2",div:"div",pre:"pre"},(0,s.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.h1,{id:"lmp",children:[(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#lmp",children:"#"}),"LMP"]}),"\n","\n",(0,t.jsxs)("div",{className:"flex space-x-2 items-center",children:[(0,t.jsx)("a",{className:"flex space-x-1 items-center",href:"https://github.com/hikestack/hike/tree/main/packages/ell",target:"_blank",children:(0,t.jsxs)(a.z,{variant:"secondary",size:"sm",children:[(0,t.jsx)("span",{children:"源码"}),(0,t.jsx)(l.Z,{className:"w-4 h-4 ml-1"})]})}),(0,t.jsx)("a",{className:"flex space-x-1 items-center",href:"/official/reference/ell/globals",children:(0,t.jsxs)(a.z,{variant:"secondary",size:"sm",children:[(0,t.jsx)("span",{children:"API 参考"}),(0,t.jsx)(o.Z,{className:"w-4 h-4 ml-1"})]})})]}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"ell"})," 是一个轻量级的Prompt工程库，它将",(0,t.jsx)(r.code,{children:"Prompt"}),"视为函数而不仅仅是字符串，将语言模型作为一个离散的子例程，称为语言模型程序（LMP）"]}),"\n",(0,t.jsxs)(r.p,{children:["在实践中对语言模型的每一次调用都是有价值的，",(0,t.jsx)(r.code,{children:"LLM"}),"调用将被用于微调、蒸馏、k-shot提示、来自人类反馈的强化学习等。"]}),"\n",(0,t.jsxs)(r.p,{children:["一个好的",(0,t.jsx)(r.code,{children:"Prompt"}),"工程系统应该把这些作为第一流的概念，同时",(0,t.jsx)(r.code,{children:"Prompt"}),"工程库不应该改变您的现有工作流程。"]}),"\n",(0,t.jsxs)(r.h2,{id:"安装",children:[(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#安装",children:"#"}),"安装"]}),"\n",(0,t.jsx)(i.PackageManagerTabs,{command:"install @hikestack/ell"}),"\n",(0,t.jsxs)(r.div,{className:"rspress-directive tip",children:[(0,t.jsx)(r.div,{className:"rspress-directive-title",children:"提示"}),(0,t.jsx)(r.div,{className:"rspress-directive-content",children:(0,t.jsx)(r.p,{children:"\n尚未发布"})})]}),"\n",(0,t.jsxs)(r.h2,{id:"使用",children:[(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#使用",children:"#"}),"使用"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",meta:"",children:"import { simple, system, user, assistant } from '@hikestack/ell';\n\n@simple({\n    model: 'gpt-4o-mini',\n    temperature: 1.0\n})\nasync function generate_story_ideas(about: string) {\n    system`你是一个专业的故事构思者。每次只用一句话回答。`;\n    return user`请生成一个关于${about}的故事的想法`;\n}\n\n@simple({\n    model: 'gpt-4o-mini',\n    temperature: 1.0\n})\nasync function write_a_draft_of_a_story(idea: string) {\n    system`你是一位擅长写故事的人。这个故事应该只有3段。`;\n    return user`请写一个关于${idea}的故事`;\n}\n\n@simple({\n    model: 'gpt-4o',\n    temperature: 0.1\n})\nasync function choose_the_best_draft(drafts: string[]) {\n    system`你是一名专业小说编辑。`;\n    return user`请从以下列表中选择最佳草稿：${drafts.join('\\n')}。`;\n}\n\n@simple({\n    model: 'gpt-4o-turbo',\n    temperature: 0.2\n})\nasync function write_a_really_good_story(about: string) {\n    system`你是一位以海明威风格写作的专家小说家。`;\n    // 注意：您可以传递参数来控制语言模型调用，在n = 4的情况下，告诉OpenAI生成一批4个输出。\n    const ideas = await generate_story_ideas(about)({ n: 4 });\n    const drafts = await Promise.all(ideas.map(idea => write_a_draft_of_a_story(idea)()));\n    const bestDraft = await choose_the_best_draft(drafts)();\n    return user`用你的风格对这个故事进行最后的修订：${bestDraft}。`;\n}\n\nconst story = await write_a_really_good_story(\"山姆奥特曼\")();\n\n"})})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,s.ah)(),e.components);return r?(0,t.jsx)(r,Object.assign({},e,{children:(0,t.jsx)(c,e)})):c(e)}let u=d;d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["guide%2Flibs%2Flmp.mdx"]={toc:[{id:"安装",text:"安装",depth:2},{id:"使用",text:"使用",depth:2}],title:"LMP",frontmatter:{}}},3460:function(e,r,n){n.d(r,{z:()=>d});var t=n("1549"),s=n("4194"),i=n("4323"),a=n("9986"),l=n("976"),o=n("6345");let c=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,r)=>{let{className:n,variant:s,size:a,asChild:d=!1,...u}=e,f=d?i.g7:"button";return(0,t.jsx)(f,{className:function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,o.m6)((0,l.W)(r))}(c({variant:s,size:a,className:n})),ref:r,...u})});d.displayName="Button"},4323:function(e,r,n){n.d(r,{g7:()=>i});var t=n("4194"),s=n("1549"),i=t.forwardRef((e,r)=>{let{children:n,...i}=e,l=t.Children.toArray(n),c=l.find(o);if(c){let e=c.props.children,n=l.map(r=>r!==c?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,s.jsx)(a,{...i,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,n):null})}return(0,s.jsx)(a,{...i,ref:r,children:n})});i.displayName="Slot";var a=t.forwardRef((e,r)=>{let{children:n,...s}=e;if(t.isValidElement(n)){let e=function(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(n=(r=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n);return t.cloneElement(n,{...function(e,r){let n={...r};for(let t in r){let s=e[t],i=r[t];/^on[A-Z]/.test(t)?s&&i?n[t]=(...e)=>{i(...e),s(...e)}:s&&(n[t]=s):"style"===t?n[t]={...s,...i}:"className"===t&&(n[t]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}(s,n.props),ref:r?function(...e){return r=>e.forEach(e=>{var n,t;return n=e,t=r,void("function"==typeof n?n(t):null!=n&&(n.current=t))})}(r,e):e})}return t.Children.count(n)>1?t.Children.only(null):null});a.displayName="SlotClone";var l=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});function o(e){return t.isValidElement(e)&&e.type===l}},9986:function(e,r,n){n.d(r,{j:function(){return a}});var t=n(3861);let s=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,i=t.W,a=(e,r)=>n=>{var t;if((null==r?void 0:r.variants)==null)return i(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:a,defaultVariants:l}=r,o=Object.keys(a).map(e=>{let r=null==n?void 0:n[e],t=null==l?void 0:l[e];if(null===r)return null;let i=s(r)||s(t);return a[e][i]}),c=n&&Object.entries(n).reduce((e,r)=>{let[n,t]=r;return void 0===t?e:(e[n]=t,e)},{});return i(e,o,null==r?void 0:null===(t=r.compoundVariants)||void 0===t?void 0:t.reduce((e,r)=>{let{class:n,className:t,...s}=r;return Object.entries(s).every(e=>{let[r,n]=e;return Array.isArray(n)?n.includes({...l,...c}[r]):({...l,...c})[r]===n})?[...e,n,t]:e},[]),null==n?void 0:n.class,null==n?void 0:n.className)}},976:function(e,r,n){n.d(r,{W:function(){return t}});function t(){for(var e,r,n=0,t="",s=arguments.length;n<s;n++)(e=arguments[n])&&(r=function e(r){var n,t,s="";if("string"==typeof r||"number"==typeof r)s+=r;else if("object"==typeof r){if(Array.isArray(r)){var i=r.length;for(n=0;n<i;n++)r[n]&&(t=e(r[n]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t)}return s}(e))&&(t&&(t+=" "),t+=r);return t}}}]);