"use strict";(self.webpackChunk_hikestack_official=self.webpackChunk_hikestack_official||[]).push([["7781"],{3690:function(e,r,s){s.r(r),s.d(r,{default:function(){return i}});var n=s(1549),a=s(6603);function t(e){let r=Object.assign({p:"p",a:"a",strong:"strong",hr:"hr",h1:"h1",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",em:"em",pre:"pre",h5:"h5"},(0,a.ah)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.a,{href:"/official/official/reference/hooks/index.html",children:(0,n.jsx)(r.strong,{children:"@hikestack/hooks"})})," • ",(0,n.jsx)(r.strong,{children:"Docs"})]}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.a,{href:"/official/official/reference/hooks/globals.html",children:"@hikestack/hooks"})," / modelUtils"]}),"\n",(0,n.jsxs)(r.h1,{id:"variable-modelutils",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#variable-modelutils",children:"#"}),"Variable: modelUtils"]}),"\n",(0,n.jsxs)(r.blockquote,{children:["\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"const"})," ",(0,n.jsx)(r.strong,{children:"modelUtils"}),": ",(0,n.jsx)(r.code,{children:"object"})]}),"\n"]}),"\n",(0,n.jsxs)(r.h2,{id:"type-declaration",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#type-declaration",children:"#"}),"Type declaration"]}),"\n",(0,n.jsxs)(r.h3,{id:"deepclone",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#deepclone",children:"#"}),"deepClone()"]}),"\n",(0,n.jsxs)(r.h4,{id:"type-parameters",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#type-parameters",children:"#"}),"Type Parameters"]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"T"})]}),"\n",(0,n.jsxs)(r.h4,{id:"parameters",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#parameters",children:"#"}),"Parameters"]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"obj"}),": ",(0,n.jsx)(r.code,{children:"T"})]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"getRefSet"})," = ",(0,n.jsx)(r.code,{children:"getDefaultRefSet"})]}),"\n",(0,n.jsxs)(r.h4,{id:"returns",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#returns",children:"#"}),"Returns"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.code,{children:"T"})}),"\n",(0,n.jsxs)(r.h3,{id:"devtools",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#devtools",children:"#"}),"devtools()"]}),"\n",(0,n.jsx)(r.p,{children:"devtools"}),"\n",(0,n.jsxs)(r.p,{children:["This is to connect with ",(0,n.jsx)(r.a,{href:"https://github.com/reduxjs/redux-devtools",target:"_blank",rel:"noopener noreferrer",children:"Redux DevTools Extension"}),".\nLimitation: Only plain objects/values are supported."]}),"\n",(0,n.jsxs)(r.h4,{id:"type-parameters-1",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#type-parameters-1",children:"#"}),"Type Parameters"]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"T"})," ",(0,n.jsx)(r.em,{children:"extends"})," ",(0,n.jsx)(r.code,{children:"object"})]}),"\n",(0,n.jsxs)(r.h4,{id:"parameters-1",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#parameters-1",children:"#"}),"Parameters"]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"proxyObject"}),": ",(0,n.jsx)(r.code,{children:"T"})]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"options?"}),": ",(0,n.jsx)(r.code,{children:"any"})]}),"\n",(0,n.jsxs)(r.h4,{id:"returns-1",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#returns-1",children:"#"}),"Returns"]}),"\n",(0,n.jsxs)(r.p,{children:["() => ",(0,n.jsx)(r.code,{children:"void"})," | ",(0,n.jsx)(r.code,{children:"undefined"})]}),"\n",(0,n.jsxs)(r.h4,{id:"example",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"}),"Example"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-ts",meta:"",children:"import { devtools } from 'valtio/utils'\nconst state = proxy({ count: 0, text: 'hello' })\nconst unsub = devtools(state, { name: 'state name', enabled: true })\n"})}),"\n",(0,n.jsxs)(r.h3,{id:"proxymap",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#proxymap",children:"#"}),"proxyMap()"]}),"\n",(0,n.jsx)(r.p,{children:"proxyMap"}),"\n",(0,n.jsx)(r.p,{children:"This is to create a proxy which mimic the native Map behavior.\nThe API is the same as Map API"}),"\n",(0,n.jsxs)(r.h4,{id:"type-parameters-2",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#type-parameters-2",children:"#"}),"Type Parameters"]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"K"})]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"V"})]}),"\n",(0,n.jsxs)(r.h4,{id:"parameters-2",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#parameters-2",children:"#"}),"Parameters"]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"entries?"}),": ",(0,n.jsx)(r.code,{children:"Iterable"}),"<readonly [",(0,n.jsx)(r.code,{children:"K"}),", ",(0,n.jsx)(r.code,{children:"V"}),"], ",(0,n.jsx)(r.code,{children:"any"}),", ",(0,n.jsx)(r.code,{children:"any"}),">"]}),"\n",(0,n.jsxs)(r.h4,{id:"returns-2",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#returns-2",children:"#"}),"Returns"]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"Map"}),"<",(0,n.jsx)(r.code,{children:"K"}),", ",(0,n.jsx)(r.code,{children:"V"}),"> & ",(0,n.jsx)(r.code,{children:"object"})]}),"\n",(0,n.jsxs)(r.h4,{id:"example-1",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#example-1",children:"#"}),"Example"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-ts",meta:"",children:'import { proxyMap } from \'valtio/utils\'\nconst state = proxyMap([["key", "value"]])\n\n//can be used inside a proxy as well\nconst state = proxy({\n  count: 1,\n  map: proxyMap()\n})\n\n// When using an object as a key, you can wrap it with `ref` so it\'s not proxied\n// this is useful if you want to preserve the key equality\nimport { ref } from \'valtio\'\n\nconst key = ref({})\nstate.set(key, "value")\nstate.get(key) //value\n\nconst key = {}\nstate.set(key, "value")\nstate.get(key) //undefined\n'})}),"\n",(0,n.jsxs)(r.h3,{id:"proxyset",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#proxyset",children:"#"}),"proxySet()"]}),"\n",(0,n.jsx)(r.p,{children:"proxySet"}),"\n",(0,n.jsx)(r.p,{children:"This is to create a proxy which mimic the native Set behavior.\nThe API is the same as Set API"}),"\n",(0,n.jsxs)(r.h4,{id:"type-parameters-3",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#type-parameters-3",children:"#"}),"Type Parameters"]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"T"})]}),"\n",(0,n.jsxs)(r.h4,{id:"parameters-3",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#parameters-3",children:"#"}),"Parameters"]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"initialValues?"}),": ",(0,n.jsx)(r.code,{children:"Iterable"}),"<",(0,n.jsx)(r.code,{children:"T"}),", ",(0,n.jsx)(r.code,{children:"any"}),", ",(0,n.jsx)(r.code,{children:"any"}),">"]}),"\n",(0,n.jsxs)(r.h4,{id:"returns-3",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#returns-3",children:"#"}),"Returns"]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"Set"}),"<",(0,n.jsx)(r.code,{children:"T"}),"> & ",(0,n.jsx)(r.code,{children:"object"})]}),"\n",(0,n.jsxs)(r.h4,{id:"example-2",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#example-2",children:"#"}),"Example"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-ts",meta:"",children:"import { proxySet } from 'valtio/utils'\nconst state = proxySet([1,2,3])\n//can be used inside a proxy as well\nconst state = proxy({\n  count: 1,\n  set: proxySet()\n})\n"})}),"\n",(0,n.jsxs)(r.h3,{id:"subscribekey",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#subscribekey",children:"#"}),"subscribeKey()"]}),"\n",(0,n.jsx)(r.p,{children:"subscribeKey"}),"\n",(0,n.jsx)(r.p,{children:"The subscribeKey utility enables subscription to a primitive subproperty of a given state proxy.\nSubscriptions created with subscribeKey will only fire when the specified property changes.\nnotifyInSync: same as the parameter to subscribe(); true disables batching of subscriptions."}),"\n",(0,n.jsxs)(r.h4,{id:"type-parameters-4",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#type-parameters-4",children:"#"}),"Type Parameters"]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"T"})," ",(0,n.jsx)(r.em,{children:"extends"})," ",(0,n.jsx)(r.code,{children:"object"})]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"K"})," ",(0,n.jsx)(r.em,{children:"extends"})," ",(0,n.jsx)(r.code,{children:"string"})," | ",(0,n.jsx)(r.code,{children:"number"})," | ",(0,n.jsx)(r.code,{children:"symbol"})]}),"\n",(0,n.jsxs)(r.h4,{id:"parameters-4",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#parameters-4",children:"#"}),"Parameters"]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"proxyObject"}),": ",(0,n.jsx)(r.code,{children:"T"})]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"key"}),": ",(0,n.jsx)(r.code,{children:"K"})]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"callback"})]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"notifyInSync?"}),": ",(0,n.jsx)(r.code,{children:"boolean"})]}),"\n",(0,n.jsxs)(r.h4,{id:"returns-4",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#returns-4",children:"#"}),"Returns"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.code,{children:"Function"})}),"\n",(0,n.jsxs)(r.h5,{id:"returns-5",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#returns-5",children:"#"}),"Returns"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.code,{children:"void"})}),"\n",(0,n.jsxs)(r.h4,{id:"example-3",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#example-3",children:"#"}),"Example"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-ts",meta:"",children:"import { subscribeKey } from 'valtio/utils'\nsubscribeKey(state, 'count', (v) => console.log('state.count has changed to', v))\n"})}),"\n",(0,n.jsxs)(r.h3,{id:"useproxy",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#useproxy",children:"#"}),"useProxy()"]}),"\n",(0,n.jsx)(r.p,{children:"useProxy"}),"\n",(0,n.jsx)(r.p,{children:"Takes a proxy and returns a new proxy which you can use in both react render\nand in callbacks. The root reference is replaced on every render, but the\nkeys (and subkeys) below it are stable until they're intentionally mutated.\nFor the best ergonomics, you can export a custom hook from your store, so you\ndon't have to figure out a separate name for the hook reference. E.g.:"}),"\n",(0,n.jsxs)(r.p,{children:["export const store = proxy(initialState)\nexport const useStore = () => useProxy(store)\n// in the component file:\nfunction Cmp() {\nconst store = useStore()\nreturn <button onClick={() => {store.count++}}>{store.count}","\n}"]}),"\n",(0,n.jsxs)(r.h4,{id:"type-parameters-5",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#type-parameters-5",children:"#"}),"Type Parameters"]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"T"})," ",(0,n.jsx)(r.em,{children:"extends"})," ",(0,n.jsx)(r.code,{children:"object"})]}),"\n",(0,n.jsxs)(r.h4,{id:"parameters-5",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#parameters-5",children:"#"}),"Parameters"]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"proxy"}),": ",(0,n.jsx)(r.code,{children:"T"})]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"options?"}),": ",(0,n.jsx)(r.code,{children:"Options"})]}),"\n",(0,n.jsxs)(r.h4,{id:"returns-6",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#returns-6",children:"#"}),"Returns"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.code,{children:"T"})}),"\n",(0,n.jsx)(r.p,{children:"A new proxy which you can use in the render as well as in callbacks."}),"\n",(0,n.jsxs)(r.h3,{id:"watch",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#watch",children:"#"}),"watch()"]}),"\n",(0,n.jsx)(r.p,{children:"watch"}),"\n",(0,n.jsx)(r.p,{children:"Creates a reactive effect that automatically tracks proxy objects and\nreevaluates everytime one of the tracked proxy objects updates. It returns\na cleanup function to stop the reactive effect from reevaluating."}),"\n",(0,n.jsx)(r.p,{children:"Callback is invoked immediately to detect the tracked objects."}),"\n",(0,n.jsxs)(r.p,{children:["Callback passed to ",(0,n.jsx)(r.code,{children:"watch"})," receives a ",(0,n.jsx)(r.code,{children:"get"}),' function that "tracks" the\npassed proxy object.']}),"\n",(0,n.jsxs)(r.p,{children:["Watch callbacks may return an optional cleanup function, which is evaluated\nwhenever the callback reevaluates or when the cleanup function returned by\n",(0,n.jsx)(r.code,{children:"watch"})," is evaluated."]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"watch"})," calls inside ",(0,n.jsx)(r.code,{children:"watch"})," are also automatically tracked and cleaned up\nwhenever the parent ",(0,n.jsx)(r.code,{children:"watch"})," reevaluates."]}),"\n",(0,n.jsxs)(r.h4,{id:"parameters-6",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#parameters-6",children:"#"}),"Parameters"]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"callback"}),": ",(0,n.jsx)(r.code,{children:"WatchCallback"})]}),"\n",(0,n.jsxs)(r.p,{children:["• ",(0,n.jsx)(r.strong,{children:"options?"}),": ",(0,n.jsx)(r.code,{children:"WatchOptions"})]}),"\n",(0,n.jsxs)(r.h4,{id:"returns-7",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#returns-7",children:"#"}),"Returns"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.code,{children:"Cleanup"})}),"\n",(0,n.jsxs)(r.p,{children:["A cleanup function that stops the callback from reevaluating and\nalso performs cleanups registered into ",(0,n.jsx)(r.code,{children:"watch"}),"."]}),"\n",(0,n.jsxs)(r.h2,{id:"defined-in",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#defined-in",children:"#"}),"Defined in"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://github.com/hikestack/hike/blob/c92ba77258ca8fade42047e4fbc66f1760864ed9/packages/hooks/src/use-model/index.ts#L7",target:"_blank",rel:"noopener noreferrer",children:"use-model/index.ts:7"})})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,a.ah)(),e.components);return r?(0,n.jsx)(r,Object.assign({},e,{children:(0,n.jsx)(t,e)})):t(e)}let i=d;d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["reference%2Fhooks%2Fvariables%2FmodelUtils.md"]={toc:[{id:"type-declaration",text:"Type declaration",depth:2},{id:"deepclone",text:"deepClone()",depth:3},{id:"type-parameters",text:"Type Parameters",depth:4},{id:"parameters",text:"Parameters",depth:4},{id:"returns",text:"Returns",depth:4},{id:"devtools",text:"devtools()",depth:3},{id:"type-parameters-1",text:"Type Parameters",depth:4},{id:"parameters-1",text:"Parameters",depth:4},{id:"returns-1",text:"Returns",depth:4},{id:"example",text:"Example",depth:4},{id:"proxymap",text:"proxyMap()",depth:3},{id:"type-parameters-2",text:"Type Parameters",depth:4},{id:"parameters-2",text:"Parameters",depth:4},{id:"returns-2",text:"Returns",depth:4},{id:"example-1",text:"Example",depth:4},{id:"proxyset",text:"proxySet()",depth:3},{id:"type-parameters-3",text:"Type Parameters",depth:4},{id:"parameters-3",text:"Parameters",depth:4},{id:"returns-3",text:"Returns",depth:4},{id:"example-2",text:"Example",depth:4},{id:"subscribekey",text:"subscribeKey()",depth:3},{id:"type-parameters-4",text:"Type Parameters",depth:4},{id:"parameters-4",text:"Parameters",depth:4},{id:"returns-4",text:"Returns",depth:4},{id:"example-3",text:"Example",depth:4},{id:"useproxy",text:"useProxy()",depth:3},{id:"type-parameters-5",text:"Type Parameters",depth:4},{id:"parameters-5",text:"Parameters",depth:4},{id:"returns-5",text:"Returns",depth:4},{id:"watch",text:"watch()",depth:3},{id:"parameters-6",text:"Parameters",depth:4},{id:"returns-6",text:"Returns",depth:4},{id:"defined-in",text:"Defined in",depth:2}],title:"Variable: modelUtils",frontmatter:{}}}}]);